<div class="parent container">

    <div class="search-controls">

        <input class="form-control" type="text" placeholder="Search by name" [(ngModel)]="searchName" (input)="applyFilters()">
    
        <select  class="form-select" size="1" [(ngModel)]="selectedDomainFilter" (change)="applyFilters()">
          <option value="All">All Domains</option>
          <!-- Assuming domains are fetched dynamically -->
          <option *ngFor="let domain of uniqueDomains" [value]="domain">{{ domain }}</option>
        </select>
      
        <select class="form-select" size="1" [(ngModel)]="selectedGenderFilter" (change)="applyFilters()">
          <option value="All">All Genders</option>
          <option value="Male">Male</option>
          <option value="Female">Female</option>
          <!-- Add other gender options if needed -->
        </select>
      
        <select  class="form-select" size="1" [(ngModel)]="selectedAvailabilityFilter" (change)="applyFilters()">
          <option value="All">All Availabilities</option>
          <option [ngValue]="true">Available</option>
          <option [ngValue]="false">Unavailable</option>
          <!-- Add other availability options if needed -->
        </select>

        <button class="btn btn-warning" (click)="clearAllFilters()">Clear</button>

    </div> 

    <!-- Card -->
      <div class="row g-5 ">
        <div class="col-lg-4 card-deck" *ngFor="let user of paginatedUsers">
          <div class="card">
            <img src="{{ user.avatar }}" class="card-img-top" alt="avatar">
            <div class="card-body">
                <p>First Name: {{ user.first_name }}</p>
                <p>Last Name: {{ user.last_name }}</p>
                <p>Email: {{ user.email }}</p>
                <p>Gender: {{ user.gender }}</p>
                <p>Domain: {{ user.domain }}</p>
                <p>Availability: {{ user.available }}</p>
                <button class="btn btn-primary" (click)="addToTeam(user)">Add to Team</button>
            </div>
          </div>
        </div>
      </div>
  
    <!-- Pagination -->
    <div class="page-controls">
      <button class="btn btn-outline-primary" (click)="skipFirst()" [disabled]="currentPage === 1">First</button>
      <button class="btn btn-outline-primary" (click)="prevPage()" [disabled]="currentPage === 1">Previous</button>
      <span>Page {{ currentPage }} / {{totalPage}}</span>
      <button class="btn btn-outline-primary" (click)="nextPage()" [disabled]="currentPage >= filteredUsers.length / itemsPerPage">Next</button>
      <button class="btn btn-outline-primary" (click)="skipLast()">Last</button>
    </div>

  </div>
  